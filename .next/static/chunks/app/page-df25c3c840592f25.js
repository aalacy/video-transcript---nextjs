(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{191:function(e,n,l){Promise.resolve().then(l.bind(l,6551))},6551:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return j}});var o=l(7437),t=l(2265),i=l(3388),a=l(2135),r=l(9227),s=l(9573),u=l(8559),d=l(9207),h=l(3226),g=l(5550),m=l(5551),c=l(6882),p=l(9417),f=l(6230),x=l(5691),C=l(5925),b=l(9222);let v=new class{getApiClient(e){let n=b.Z.create({baseURL:"http://13.52.240.97"});return n}upload(e){let n=new FormData;for(let l in e)n.append(l,e[l]);return this.apiClient.post("/api/upload",n,{headers:{"content-type":"multipart/form-data"}})}download(e){return this.apiClient.get("/api/download?processId=".concat(e))}constructor(){this.apiClient=this.getApiClient(this.config)}};function j(){let e=(0,a.Z)("(min-width:600px)"),[n,l]=t.useState(),[b,j]=t.useState(!1);t.useEffect(()=>{let e=(0,i.io)("http://13.52.240.97");e.on("connect",()=>console.log("connect ",e.id)),e.on("connect_error",()=>{setTimeout(()=>e.connect(),5e3)}),e.on("monster",e=>{let{status:n,processId:o}=e;console.log("[socket] ",e),"completed"===n&&(l(o),j(!0),C.default.success("Conversion Completed!"))}),e.on("disconnect",()=>console.error("server disconnected"))},[]);let w=async(e,n)=>{await y({...e})},Z=x.Ry().shape({language:x.Z_(),backgroundColour:x.Z_().required("Required"),fontColour:x.Z_().required("Required"),font:x.Z_(),font_size:x.Rx().min(11).max(46),alignment:x.Rx().min(1),width:x.Rx().min(426).max(3840),height:x.Rx().min(240).max(2160)}),y=async e=>{try{let{data:n}=await v.upload(e);C.default.success(n.message),l(n.processId)}catch(e){var n,o;console.log("error",e),C.default.error((null===(o=e.response)||void 0===o?void 0:null===(n=o.data)||void 0===n?void 0:n.message)||"Something wrong happened.")}},z=async()=>{let{data:e}=await v.download(n),l=document.createElement("a");l.href=e.output,l.click()};return(0,o.jsx)(r.Z,{sx:{display:"flex"},children:(0,o.jsxs)("div",{children:[(0,o.jsxs)(s.Z,{severity:"info",sx:{mt:2,mb:5},children:[(0,o.jsx)(u.Z,{children:"Hello \uD83D\uDC4B"}),"This app generates the video with transcript from audio file."]}),(0,o.jsx)(f.J9,{onSubmit:w,initialValues:{language:"en-US",backgroundColour:"#4d1a7f",fontColour:"#4d1a7f",font:"DejaVu Serif",fontSize:24,alignment:5,width:720,height:1280,file:""},validationSchema:Z,children:t=>{let{values:i,errors:a,touched:s,handleBlur:u,handleChange:x,setFieldValue:C,setTouched:v,isSubmitting:j}=t;return(0,o.jsxs)(f.l0,{children:[(0,o.jsxs)(r.Z,{display:"grid",gap:"30px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",sx:{"& > div":{gridColumn:e?void 0:"span 4"}},children:[(0,o.jsx)(d.Z,{fullWidth:!0,type:"text",size:"small",label:"Language",onBlur:u,onChange:x,value:i.language,name:"language",error:!!s.language&&!!a.language,helperText:s.language&&a.language,sx:{gridColumn:"span 2"}}),(0,o.jsx)(d.Z,{fullWidth:!0,type:"text",size:"small",label:"Font",onBlur:u,onChange:x,value:i.font,name:"font",error:!!s.font&&!!a.font,helperText:s.font&&a.font,sx:{gridColumn:"span 2"}}),(0,o.jsx)(p.O,{fullWidth:!0,size:"small",format:"hex",name:"backgroundColour",label:"Background Color",value:i.backgroundColour,onChange:e=>C("backgroundColour",e),error:!!s.backgroundColour&&!!a.backgroundColour,helperText:s.backgroundColour&&a.backgroundColour,sx:{gridColumn:"span 2"}}),(0,o.jsx)(p.O,{fullWidth:!0,size:"small",format:"hex",name:"fontColour",label:"Font Color",value:i.fontColour,onChange:e=>C("fontColour",e),error:!!s.fontColour&&!!a.fontColour,helperText:s.fontColour&&a.fontColour,sx:{gridColumn:"span 2"}}),(0,o.jsx)(d.Z,{fullWidth:!0,type:"number",size:"small",label:"Alignment",onBlur:u,onChange:x,value:i.alignment,name:"alignment",error:!!s.alignment&&!!a.alignment,helperText:s.alignment&&a.alignment,sx:{gridColumn:"span 2"}}),(0,o.jsx)(d.Z,{fullWidth:!0,type:"number",size:"small",label:"Font Size",onBlur:u,onChange:x,value:i.fontSize,name:"fontSize",error:!!s.fontSize&&!!a.fontSize,helperText:s.fontSize&&a.fontSize,sx:{gridColumn:"span 2"}}),(0,o.jsx)(d.Z,{fullWidth:!0,type:"number",size:"small",label:"Width",onBlur:u,onChange:x,value:i.width,name:"width",error:!!s.width&&!!a.width,helperText:s.width&&a.width,sx:{gridColumn:"span 2"}}),(0,o.jsx)(d.Z,{fullWidth:!0,type:"number",size:"small",label:"Height",onBlur:u,onChange:x,value:i.height,name:"height",error:!!s.height&&!!a.height,helperText:s.height&&a.height,sx:{gridColumn:"span 2"}}),(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(h.Z,{children:"Please upload a video/audio file"}),(0,o.jsx)("input",{name:"file",type:"file",onBlur:u,onChange:e=>{l(""),v({...s,file:!0}),C("file",e.target.files[0])},error:!!s.file&&!!a.file,helperText:s.file&&a.file,sx:{gridColumn:"span 4",width:"100%"},accept:".m4a, .mov, .mp3, .mp4, .mpeg, .mpga, .wav, .webm, .ogg"})]})]}),a.submit&&(0,o.jsx)(r.Z,{sx:{mt:3},children:(0,o.jsx)(g.Z,{error:!0,children:a.submit})}),(0,o.jsxs)(r.Z,{display:"flex",justifyContent:"end",mt:"4em",gap:2,children:[(0,o.jsxs)(m.Z,{type:"submit",color:"secondary",variant:"contained",disabled:!i.file||j,children:[j&&(0,o.jsx)(c.Z,{sx:{mr:1},color:"inherit",size:20})," ","Upload"]}),(0,o.jsx)(m.Z,{variant:"contained",onClick:z,disabled:!n||!b,children:"Download"})]})]})}})]})})}}},function(e){e.O(0,[140,393,504,971,596,744],function(){return e(e.s=191)}),_N_E=e.O()}]);